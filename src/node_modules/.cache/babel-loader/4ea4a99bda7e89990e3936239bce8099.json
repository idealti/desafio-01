{"ast":null,"code":"import e, { createContext as t, useContext as r, useEffect as n, useState as a, useCallback as i, useRef as o, Fragment as l } from \"react\";\n\nfunction u(e, t) {\n  var r, n;\n  if (\"function\" == typeof t) void 0 !== (n = t(e)) && (e = n);else if (Array.isArray(t)) for (r = 0; r < t.length; r++) void 0 !== (n = t[r](e)) && (e = n);\n  return e;\n}\n\nfunction c(e, t) {\n  return \"-\" === e[0] && Array.isArray(t) && /^-\\d+$/.test(e) ? t.length + parseInt(e, 10) : e;\n}\n\nfunction s(e) {\n  return \"[object Object]\" === Object.prototype.toString.call(e);\n}\n\nfunction f(e) {\n  return Object(e) === e;\n}\n\nfunction p(e) {\n  return 0 === Object.keys(e).length;\n}\n\nfunction h(e, t) {\n  return e.indexOf(\"[\") >= 0 && (e = e.replace(/\\[/g, \".\").replace(/]/g, \"\")), e.split(t);\n}\n\nfunction d(e, t, r) {\n  if (!(this instanceof d)) return new d(e, t, r);\n  void 0 === t && (t = !1), void 0 === r && (r = !0), this.separator = e || \".\", this.override = t, this.useArray = r, this.keepArray = !1, this.cleanup = [];\n}\n\nvar m = new d(\".\", !1, !0);\n\nfunction y(e) {\n  return function () {\n    return m[e].apply(m, arguments);\n  };\n}\n\nd.prototype._fill = function (e, t, r, n) {\n  var a = e.shift();\n\n  if (e.length > 0) {\n    if (t[a] = t[a] || (this.useArray && function (e) {\n      return /^\\d+$/.test(e);\n    }(e[0]) ? [] : {}), !f(t[a])) {\n      if (!this.override) {\n        if (!f(r) || !p(r)) throw new Error(\"Trying to redefine `\" + a + \"` which is a \" + typeof t[a]);\n        return;\n      }\n\n      t[a] = {};\n    }\n\n    this._fill(e, t[a], r, n);\n  } else {\n    if (!this.override && f(t[a]) && !p(t[a])) {\n      if (!f(r) || !p(r)) throw new Error(\"Trying to redefine non-empty obj['\" + a + \"']\");\n      return;\n    }\n\n    t[a] = u(r, n);\n  }\n}, d.prototype.object = function (e, t) {\n  var r = this;\n  return Object.keys(e).forEach(function (n) {\n    var a = void 0 === t ? null : t[n],\n        i = h(n, r.separator).join(r.separator);\n    -1 !== i.indexOf(r.separator) ? (r._fill(i.split(r.separator), e, e[n], a), delete e[n]) : r.override && (e[n] = u(e[n], a));\n  }), e;\n}, d.prototype.str = function (e, t, r, n) {\n  return -1 !== e.indexOf(this.separator) ? this._fill(e.split(this.separator), r, t, n) : r.hasOwnProperty(e) && !this.override || (r[e] = u(t, n)), r;\n}, d.prototype.pick = function (e, t, r) {\n  var n, a, i, o, l;\n\n  for (a = h(e, this.separator), n = 0; n < a.length; n++) {\n    if (o = c(a[n], t), !(t && \"object\" == typeof t && o in t)) return;\n    if (n === a.length - 1) return r ? (i = t[o], delete t[o], Array.isArray(t) && (l = a.slice(0, -1).join(\".\"), -1 === this.cleanup.indexOf(l) && this.cleanup.push(l)), i) : t[o];\n    t = t[o];\n  }\n\n  return r && Array.isArray(t) && (t = t.filter(function (e) {\n    return void 0 !== e;\n  })), t;\n}, d.prototype.remove = function (e, t) {\n  var r;\n\n  if (this.cleanup = [], Array.isArray(e)) {\n    for (r = 0; r < e.length; r++) this.pick(e[r], t, !0);\n\n    return this._cleanup(t), t;\n  }\n\n  return this.pick(e, t, !0);\n}, d.prototype._cleanup = function (e) {\n  var t, r, n, a;\n\n  if (this.cleanup.length) {\n    for (r = 0; r < this.cleanup.length; r++) t = (t = (a = (n = this.cleanup[r].split(\".\")).splice(0, -1).join(\".\")) ? this.pick(a, e) : e)[n[0]].filter(function (e) {\n      return void 0 !== e;\n    }), this.set(this.cleanup[r], t, e);\n\n    this.cleanup = [];\n  }\n}, d.prototype.del = d.prototype.remove, d.prototype.move = function (e, t, r, n, a) {\n  return \"function\" == typeof n || Array.isArray(n) ? this.set(t, u(this.pick(e, r, !0), n), r, a) : (a = n, this.set(t, this.pick(e, r, !0), r, a)), r;\n}, d.prototype.transfer = function (e, t, r, n, a, i) {\n  return \"function\" == typeof a || Array.isArray(a) ? this.set(t, u(this.pick(e, r, !0), a), n, i) : (i = a, this.set(t, this.pick(e, r, !0), n, i)), n;\n}, d.prototype.copy = function (e, t, r, n, a, i) {\n  return \"function\" == typeof a || Array.isArray(a) ? this.set(t, u(JSON.parse(JSON.stringify(this.pick(e, r, !1))), a), n, i) : (i = a, this.set(t, this.pick(e, r, !1), n, i)), n;\n}, d.prototype.set = function (e, t, r, n) {\n  var a, i, o, l;\n  if (void 0 === t) return r;\n\n  for (o = h(e, this.separator), a = 0; a < o.length; a++) {\n    if (l = o[a], a === o.length - 1) {\n      if (n && s(t) && s(r[l])) for (i in t) t.hasOwnProperty(i) && (r[l][i] = t[i]);else if (n && Array.isArray(r[l]) && Array.isArray(t)) for (var u = 0; u < t.length; u++) r[o[a]].push(t[u]);else r[l] = t;\n    } else r.hasOwnProperty(l) && (s(r[l]) || Array.isArray(r[l])) || (/^\\d+$/.test(o[a + 1]) ? r[l] = [] : r[l] = {});\n    r = r[l];\n  }\n\n  return r;\n}, d.prototype.transform = function (e, t, r) {\n  return t = t || {}, r = r || {}, Object.keys(e).forEach(function (n) {\n    this.set(e[n], this.pick(n, t), r);\n  }.bind(this)), r;\n}, d.prototype.dot = function (e, t, r) {\n  return t = t || {}, r = r || [], Object.keys(e).forEach(function (n) {\n    if (f(e[n]) && (s(e[n]) && !p(e[n]) || Array.isArray(e[n]) && !this.keepArray && 0 !== e[n].length)) return this.dot(e[n], t, r.concat(n));\n    t[r.concat(n).join(this.separator)] = e[n];\n  }.bind(this)), t;\n}, d.pick = y(\"pick\"), d.move = y(\"move\"), d.transfer = y(\"transfer\"), d.transform = y(\"transform\"), d.copy = y(\"copy\"), d.object = y(\"object\"), d.str = y(\"str\"), d.set = y(\"set\"), d.del = d.remove = y(\"remove\"), d.dot = y(\"dot\"), [\"override\", \"overwrite\"].forEach(function (e) {\n  Object.defineProperty(d, e, {\n    get: function () {\n      return m.override;\n    },\n    set: function (e) {\n      m.override = !!e;\n    }\n  });\n}), [\"useArray\", \"keepArray\"].forEach(function (e) {\n  Object.defineProperty(d, e, {\n    get: function () {\n      return m[e];\n    },\n    set: function (t) {\n      m[e] = t;\n    }\n  });\n}), d._process = u;\nvar v = d,\n    b = t({\n  initialData: {},\n  errors: {},\n  scopePath: \"\",\n  registerField: function () {},\n  unregisterField: function () {}\n});\n\nfunction g(e) {\n  var t = r(b),\n      a = t.initialData,\n      i = t.errors,\n      o = t.scopePath,\n      l = t.unregisterField,\n      u = t.registerField,\n      c = o ? o + \".\" + e : e;\n  n(function () {\n    return function () {\n      return l(c);\n    };\n  }, [c]);\n  var s = v.pick(c, a),\n      f = i[c];\n  return {\n    fieldName: c,\n    registerField: u,\n    defaultValue: s,\n    error: f\n  };\n}\n\nvar E = function () {\n  return (E = Object.assign || function (e) {\n    for (var t, r = 1, n = arguments.length; r < n; r++) for (var a in t = arguments[r]) Object.prototype.hasOwnProperty.call(t, a) && (e[a] = t[a]);\n\n    return e;\n  }).apply(this, arguments);\n};\n\nfunction k(e, t) {\n  var r = {};\n\n  for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && t.indexOf(n) < 0 && (r[n] = e[n]);\n\n  if (null != e && \"function\" == typeof Object.getOwnPropertySymbols) {\n    var a = 0;\n\n    for (n = Object.getOwnPropertySymbols(e); a < n.length; a++) t.indexOf(n[a]) < 0 && (r[n[a]] = e[n[a]]);\n  }\n\n  return r;\n}\n\nfunction w(e, t) {\n  var r,\n      n,\n      a,\n      i,\n      o = {\n    label: 0,\n    sent: function () {\n      if (1 & a[0]) throw a[1];\n      return a[1];\n    },\n    trys: [],\n    ops: []\n  };\n  return i = {\n    next: l(0),\n    throw: l(1),\n    return: l(2)\n  }, \"function\" == typeof Symbol && (i[Symbol.iterator] = function () {\n    return this;\n  }), i;\n\n  function l(i) {\n    return function (l) {\n      return function (i) {\n        if (r) throw new TypeError(\"Generator is already executing.\");\n\n        for (; o;) try {\n          if (r = 1, n && (a = 2 & i[0] ? n.return : i[0] ? n.throw || ((a = n.return) && a.call(n), 0) : n.next) && !(a = a.call(n, i[1])).done) return a;\n\n          switch (n = 0, a && (i = [2 & i[0], a.value]), i[0]) {\n            case 0:\n            case 1:\n              a = i;\n              break;\n\n            case 4:\n              return o.label++, {\n                value: i[1],\n                done: !1\n              };\n\n            case 5:\n              o.label++, n = i[1], i = [0];\n              continue;\n\n            case 7:\n              i = o.ops.pop(), o.trys.pop();\n              continue;\n\n            default:\n              if (!(a = (a = o.trys).length > 0 && a[a.length - 1]) && (6 === i[0] || 2 === i[0])) {\n                o = 0;\n                continue;\n              }\n\n              if (3 === i[0] && (!a || i[1] > a[0] && i[1] < a[3])) {\n                o.label = i[1];\n                break;\n              }\n\n              if (6 === i[0] && o.label < a[1]) {\n                o.label = a[1], a = i;\n                break;\n              }\n\n              if (a && o.label < a[2]) {\n                o.label = a[2], o.ops.push(i);\n                break;\n              }\n\n              a[2] && o.ops.pop(), o.trys.pop();\n              continue;\n          }\n\n          i = t.call(e, o);\n        } catch (e) {\n          i = [6, e], n = 0;\n        } finally {\n          r = a = 0;\n        }\n\n        if (5 & i[0]) throw i[1];\n        return {\n          value: i[0] ? i[1] : void 0,\n          done: !0\n        };\n      }([i, l]);\n    };\n  }\n}\n\nfunction A(t) {\n  var r = t.initialData,\n      n = void 0 === r ? {} : r,\n      o = t.children,\n      l = t.schema,\n      u = t.context,\n      c = void 0 === u ? {} : u,\n      s = t.onSubmit,\n      f = k(t, [\"initialData\", \"children\", \"schema\", \"context\", \"onSubmit\"]),\n      p = a({}),\n      h = p[0],\n      d = p[1],\n      m = a([]),\n      y = m[0],\n      g = m[1];\n\n  function A(e) {\n    void 0 === e && (e = {}), y.forEach(function (t) {\n      var r = t.name,\n          n = t.ref,\n          a = t.path,\n          i = t.clearValue;\n      return i ? i(n, e[r]) : v.set(a, e[r] ? e[r] : \"\", n);\n    });\n  }\n\n  var O = i(function (e) {\n    g(function (t) {\n      return t.concat([e]);\n    });\n  }, []),\n      j = i(function (e) {\n    g(function (t) {\n      return t.filter(function (t) {\n        return t.name !== e;\n      });\n    });\n  }, []);\n  return e.createElement(b.Provider, {\n    value: {\n      initialData: n,\n      errors: h,\n      scopePath: \"\",\n      registerField: O,\n      unregisterField: j\n    }\n  }, e.createElement(\"form\", E({}, f, {\n    \"data-testid\": \"form\",\n    onSubmit: function (e) {\n      return t = this, r = void 0, a = function () {\n        var t, r, n;\n        return w(this, function (a) {\n          switch (a.label) {\n            case 0:\n              e.preventDefault(), t = function () {\n                var e = {};\n                return y.forEach(function (t) {\n                  var r = t.name,\n                      n = t.ref,\n                      a = t.path,\n                      i = t.parseValue,\n                      o = v.pick(a, n);\n                  e[r] = i ? i(n) : o;\n                }), v.object(e), e;\n              }(), a.label = 1;\n\n            case 1:\n              return a.trys.push([1, 4,, 5]), l ? [4, l.validate(t, {\n                abortEarly: !1,\n                stripUnknown: !0,\n                context: c\n              })] : [3, 3];\n\n            case 2:\n              a.sent(), t = l.cast(t, {\n                stripUnknown: !0,\n                context: c\n              }), a.label = 3;\n\n            case 3:\n              return d({}), s(t, {\n                resetForm: A\n              }), [3, 5];\n\n            case 4:\n              if (r = a.sent(), n = {}, !r.inner) throw r;\n              return r.inner.forEach(function (e) {\n                n[e.path] = e.message;\n              }), d(n), [3, 5];\n\n            case 5:\n              return [2];\n          }\n        });\n      }, new ((n = void 0) || (n = Promise))(function (e, i) {\n        function o(e) {\n          try {\n            u(a.next(e));\n          } catch (e) {\n            i(e);\n          }\n        }\n\n        function l(e) {\n          try {\n            u(a.throw(e));\n          } catch (e) {\n            i(e);\n          }\n        }\n\n        function u(t) {\n          t.done ? e(t.value) : new n(function (e) {\n            e(t.value);\n          }).then(o, l);\n        }\n\n        u((a = a.apply(t, r || [])).next());\n      });\n      var t, r, n, a;\n    }\n  }), o));\n}\n\nfunction O(t) {\n  var n = t.path,\n      a = t.children,\n      i = r(b),\n      o = i.scopePath,\n      l = k(i, [\"scopePath\"]);\n  return e.createElement(b.Provider, {\n    value: E({}, l, {\n      scopePath: o.concat(o ? \".\" + n : n)\n    })\n  }, a);\n}\n\nfunction j(t) {\n  var r = t.name,\n      a = t.label,\n      i = t.multiline,\n      l = void 0 !== i && i,\n      u = k(t, [\"name\", \"label\", \"multiline\"]),\n      c = o(null),\n      s = g(r),\n      f = s.fieldName,\n      p = s.registerField,\n      h = s.defaultValue,\n      d = s.error;\n  n(function () {\n    c.current && p({\n      name: f,\n      ref: c.current,\n      path: \"value\"\n    });\n  }, [c.current, f]);\n  var m = E({}, u, {\n    ref: c,\n    id: f,\n    name: f,\n    \"aria-label\": f,\n    defaultValue: h\n  });\n  return e.createElement(e.Fragment, null, a && e.createElement(\"label\", {\n    htmlFor: f\n  }, a), l ? e.createElement(\"textarea\", E({}, m)) : e.createElement(\"input\", E({}, m)), d && e.createElement(\"span\", null, d));\n}\n\nfunction F(t) {\n  return n(function () {\n    console.warn(\"Textarea will be deprecated in the next major unform release. Please use <Input multiline /> instead\");\n  }, []), e.createElement(j, E({}, t, {\n    multiline: !0\n  }));\n}\n\nfunction P(t) {\n  var r = t.name,\n      a = t.label,\n      i = t.placeholder,\n      l = t.defaultValue,\n      u = t.options,\n      c = k(t, [\"name\", \"label\", \"placeholder\", \"defaultValue\", \"options\"]),\n      s = o(null),\n      f = g(r),\n      p = f.fieldName,\n      h = f.registerField,\n      d = f.defaultValue,\n      m = f.error;\n  return n(function () {\n    s.current && h({\n      name: p,\n      ref: s.current,\n      path: \"value\"\n    });\n  }, [s.current, p]), e.createElement(e.Fragment, null, a && e.createElement(\"label\", {\n    htmlFor: p\n  }, a), e.createElement(\"select\", E({}, c, {\n    multiple: !1,\n    id: p,\n    name: p,\n    defaultValue: d || l,\n    \"aria-label\": p,\n    ref: s\n  }), e.createElement(\"option\", {\n    value: l,\n    disabled: !0,\n    hidden: !0\n  }, i), u.map(function (t) {\n    var r = t.id,\n        n = t.title;\n    return e.createElement(\"option\", {\n      key: r,\n      value: r\n    }, n);\n  })), m && e.createElement(\"span\", null, m));\n}\n\nfunction x(t) {\n  var r = t.name,\n      i = t.label,\n      l = t.onStartProgress,\n      u = k(t, [\"name\", \"label\", \"onStartProgress\"]),\n      c = o(null),\n      s = g(r),\n      f = s.fieldName,\n      p = s.registerField,\n      h = s.defaultValue,\n      d = s.error,\n      m = a(h),\n      y = m[0],\n      v = m[1];\n  n(function () {\n    c.current && p({\n      name: f,\n      ref: c.current,\n      path: \"dataset.file\",\n      clearValue: function (e) {\n        e.value = \"\", v(\"\");\n      }\n    });\n  }, [c.current, f]);\n  var b = E({}, u, {\n    ref: c,\n    id: f,\n    name: f,\n    \"aria-label\": f\n  });\n  return e.createElement(e.Fragment, null, i && e.createElement(\"label\", {\n    htmlFor: f\n  }, i), e.createElement(\"input\", E({}, b, {\n    type: \"file\",\n    onChange: function (e) {\n      var t = new FileReader();\n      t.onload = function (e) {\n        var t = e.target.result;\n        v(t);\n      }, t.onprogress = function (e) {\n        var t = e.loaded,\n            r = void 0 === t ? 0 : t,\n            n = e.total;\n        l && l(r / (void 0 === n ? 0 : n) * 100, e);\n      };\n      var r = e.target.files;\n      r && t.readAsDataURL(r[0]);\n    },\n    \"data-file\": y\n  })), d && e.createElement(\"span\", null, d));\n}\n\nfunction V(t) {\n  var r = t.name,\n      a = t.label,\n      i = k(t, [\"name\", \"label\"]),\n      l = o(null),\n      u = g(r),\n      c = u.fieldName,\n      s = u.registerField,\n      f = u.defaultValue,\n      p = u.error,\n      h = function (e) {\n    return e.checked;\n  };\n\n  n(function () {\n    l.current && s({\n      name: c,\n      ref: l.current,\n      path: \"\",\n      parseValue: h,\n      clearValue: function (e) {\n        e.checked = !1;\n      }\n    });\n  }, [l.current, c]);\n  var d = E({}, i, {\n    ref: l,\n    id: c,\n    name: c,\n    type: \"checkbox\",\n    \"aria-label\": c,\n    defaultChecked: f\n  });\n  return e.createElement(e.Fragment, null, e.createElement(\"input\", E({}, d)), a && e.createElement(\"label\", {\n    htmlFor: c\n  }, a), p && e.createElement(\"span\", null, p));\n}\n\nfunction S(t) {\n  var r = t.name,\n      a = t.options,\n      i = t.multiple,\n      u = k(t, [\"name\", \"options\", \"multiple\"]),\n      c = g(r),\n      s = c.fieldName,\n      f = c.registerField,\n      p = c.defaultValue,\n      h = c.error,\n      d = o([]),\n      m = i ? \"checkbox\" : \"radio\",\n      y = function (e) {\n    return !!p && (\"string\" == typeof p ? [p].includes(e) : Array.from(p).includes(e));\n  },\n      v = function (e) {\n    var t = e.filter(function (e) {\n      return e.checked;\n    }).map(function (e) {\n      return e.value;\n    });\n    return i ? t : t[0];\n  };\n\n  return n(function () {\n    d.current = d.current.slice(0, a.length), f({\n      name: s,\n      path: \"\",\n      ref: d.current,\n      parseValue: v,\n      clearValue: function (e) {\n        e.forEach(function (e) {\n          e.checked = !1;\n        });\n      }\n    });\n  }, [s]), e.createElement(l, null, a.map(function (t, r) {\n    var n = t.value,\n        a = t.label,\n        i = s + \"-\" + n;\n    return e.createElement(l, {\n      key: i\n    }, e.createElement(\"input\", E({}, u, {\n      ref: function (e) {\n        d.current[r] = e;\n      },\n      type: m,\n      id: i,\n      name: s,\n      \"aria-label\": i,\n      value: n,\n      defaultChecked: y(n)\n    })), a && e.createElement(\"label\", {\n      htmlFor: i\n    }, a));\n  }), h && e.createElement(\"span\", null, h));\n}\n\nP.defaultProps = {\n  placeholder: \"\",\n  defaultValue: \"\"\n};\nexport { V as Check, S as Choice, x as FileInput, A as Form, j as Input, O as Scope, P as Select, F as Textarea, g as useField };","map":{"version":3,"sources":["../node_modules/dot-object/index.js","../lib/Context.tsx","../lib/useField.ts","../node_modules/tslib/tslib.es6.js","../lib/Form.tsx","../lib/Scope.tsx","../lib/components/Input.tsx","../lib/components/Textarea.tsx","../lib/components/Select.tsx","../lib/components/FileInput.tsx","../lib/components/Check.tsx","../lib/components/Choice.tsx"],"names":["_process","v","mod","i","r","undefined","Array","isArray","length","parseKey","key","val","test","parseInt","k","isObject","Object","prototype","toString","call","isArrayOrObject","isEmptyObject","keys","parsePath","path","sep","indexOf","replace","split","DotObject","separator","override","useArray","this","keepArray","cleanup","dotDefault","wrap","method","apply","arguments","_fill","a","obj","shift","isIndex","Error","object","mods","self","forEach","ok","join","str","hasOwnProperty","pick","remove","cp","slice","push","filter","n","_cleanup","ret","root","splice","set","del","move","source","target","merge","transfer","obj1","obj2","copy","JSON","parse","stringify","j","transform","recipe","tgt","bind","dot","concat","prop","defineProperty","get","createContext","initialData","errors","scopePath","registerField","unregisterField","useField","name","fieldName","useEffect","defaultValue","error","__assign","assign","t","s","p","__rest","e","getOwnPropertySymbols","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","throw","return","Symbol","iterator","op","TypeError","pop","Form","_a","children","schema","_c","onSubmit","rest","_d","setErrors","_e","fields","setFields","data","ref","parseValue","resetForm","clearValue","preventDefault","parseFormData","validate","abortEarly","stripUnknown","context","cast","validationErrors_1","err_1","inner","message","useCallback","field","state","React","FormContext","Provider","Scope","_b","form","Input","useRef","current","props","id","aria-label","htmlFor","multiline","Textarea","console","warn","placeholder","Select","options","multiple","disabled","hidden","map","title","defaultProps","onStartProgress","file","setFile","fileRef","event","fileReader","FileReader","onload","evt","onprogress","loaded","files","readAsDataURL","type","onChange","inputRef","checked","defaultChecked","Choice","nativeField","includes","from","choiceRef","values","Fragment","idx","checkboxId","el"],"mappings":"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","sourcesContent":["'use strict'\n\nfunction _process (v, mod) {\n  var i\n  var r\n\n  if (typeof mod === 'function') {\n    r = mod(v)\n    if (r !== undefined) {\n      v = r\n    }\n  } else if (Array.isArray(mod)) {\n    for (i = 0; i < mod.length; i++) {\n      r = mod[i](v)\n      if (r !== undefined) {\n        v = r\n      }\n    }\n  }\n\n  return v\n}\n\nfunction parseKey (key, val) {\n  // detect negative index notation\n  if (key[0] === '-' && Array.isArray(val) && /^-\\d+$/.test(key)) {\n    return val.length + parseInt(key, 10)\n  }\n  return key\n}\n\nfunction isIndex (k) {\n  return /^\\d+$/.test(k)\n}\n\nfunction isObject (val) {\n  return Object.prototype.toString.call(val) === '[object Object]'\n}\n\nfunction isArrayOrObject (val) {\n  return Object(val) === val\n}\n\nfunction isEmptyObject (val) {\n  return Object.keys(val).length === 0\n}\n\nfunction parsePath (path, sep) {\n  if (path.indexOf('[') >= 0) {\n    path = path.replace(/\\[/g, '.').replace(/]/g, '')\n  }\n  return path.split(sep)\n}\n\nfunction DotObject (separator, override, useArray) {\n  if (!(this instanceof DotObject)) {\n    return new DotObject(separator, override, useArray)\n  }\n\n  if (typeof override === 'undefined') override = false\n  if (typeof useArray === 'undefined') useArray = true\n  this.separator = separator || '.'\n  this.override = override\n  this.useArray = useArray\n  this.keepArray = false\n\n  // contains touched arrays\n  this.cleanup = []\n}\n\nvar dotDefault = new DotObject('.', false, true)\nfunction wrap (method) {\n  return function () {\n    return dotDefault[method].apply(dotDefault, arguments)\n  }\n}\n\nDotObject.prototype._fill = function (a, obj, v, mod) {\n  var k = a.shift()\n\n  if (a.length > 0) {\n    obj[k] = obj[k] ||\n      (this.useArray && isIndex(a[0]) ? [] : {})\n\n    if (!isArrayOrObject(obj[k])) {\n      if (this.override) {\n        obj[k] = {}\n      } else {\n        if (!(isArrayOrObject(v) && isEmptyObject(v))) {\n          throw new Error(\n            'Trying to redefine `' + k + '` which is a ' + typeof obj[k]\n          )\n        }\n\n        return\n      }\n    }\n\n    this._fill(a, obj[k], v, mod)\n  } else {\n    if (!this.override &&\n      isArrayOrObject(obj[k]) && !isEmptyObject(obj[k])) {\n      if (!(isArrayOrObject(v) && isEmptyObject(v))) {\n        throw new Error(\"Trying to redefine non-empty obj['\" + k + \"']\")\n      }\n\n      return\n    }\n\n    obj[k] = _process(v, mod)\n  }\n}\n\n/**\n *\n * Converts an object with dotted-key/value pairs to it's expanded version\n *\n * Optionally transformed by a set of modifiers.\n *\n * Usage:\n *\n *   var row = {\n *     'nr': 200,\n *     'doc.name': '  My Document  '\n *   }\n *\n *   var mods = {\n *     'doc.name': [_s.trim, _s.underscored]\n *   }\n *\n *   dot.object(row, mods)\n *\n * @param {Object} obj\n * @param {Object} mods\n */\nDotObject.prototype.object = function (obj, mods) {\n  var self = this\n\n  Object.keys(obj).forEach(function (k) {\n    var mod = mods === undefined ? null : mods[k]\n    // normalize array notation.\n    var ok = parsePath(k, self.separator).join(self.separator)\n\n    if (ok.indexOf(self.separator) !== -1) {\n      self._fill(ok.split(self.separator), obj, obj[k], mod)\n      delete obj[k]\n    } else if (self.override) {\n      obj[k] = _process(obj[k], mod)\n    }\n  })\n\n  return obj\n}\n\n/**\n * @param {String} path dotted path\n * @param {String} v value to be set\n * @param {Object} obj object to be modified\n * @param {Function|Array} mod optional modifier\n */\nDotObject.prototype.str = function (path, v, obj, mod) {\n  if (path.indexOf(this.separator) !== -1) {\n    this._fill(path.split(this.separator), obj, v, mod)\n  } else if (!obj.hasOwnProperty(path) || this.override) {\n    obj[path] = _process(v, mod)\n  }\n\n  return obj\n}\n\n/**\n *\n * Pick a value from an object using dot notation.\n *\n * Optionally remove the value\n *\n * @param {String} path\n * @param {Object} obj\n * @param {Boolean} remove\n */\nDotObject.prototype.pick = function (path, obj, remove) {\n  var i\n  var keys\n  var val\n  var key\n  var cp\n\n  keys = parsePath(path, this.separator)\n  for (i = 0; i < keys.length; i++) {\n    key = parseKey(keys[i], obj)\n    if (obj && typeof obj === 'object' && key in obj) {\n      if (i === (keys.length - 1)) {\n        if (remove) {\n          val = obj[key]\n          delete obj[key]\n          if (Array.isArray(obj)) {\n            cp = keys.slice(0, -1).join('.')\n            if (this.cleanup.indexOf(cp) === -1) {\n              this.cleanup.push(cp)\n            }\n          }\n          return val\n        } else {\n          return obj[key]\n        }\n      } else {\n        obj = obj[key]\n      }\n    } else {\n      return undefined\n    }\n  }\n  if (remove && Array.isArray(obj)) {\n    obj = obj.filter(function (n) { return n !== undefined })\n  }\n  return obj\n}\n\n/**\n *\n * Remove value from an object using dot notation.\n *\n * @param {String} path\n * @param {Object} obj\n * @return {Mixed} The removed value\n */\nDotObject.prototype.remove = function (path, obj) {\n  var i\n\n  this.cleanup = []\n  if (Array.isArray(path)) {\n    for (i = 0; i < path.length; i++) {\n      this.pick(path[i], obj, true)\n    }\n    this._cleanup(obj)\n    return obj\n  } else {\n    return this.pick(path, obj, true)\n  }\n}\n\nDotObject.prototype._cleanup = function (obj) {\n  var ret\n  var i\n  var keys\n  var root\n  if (this.cleanup.length) {\n    for (i = 0; i < this.cleanup.length; i++) {\n      keys = this.cleanup[i].split('.')\n      root = keys.splice(0, -1).join('.')\n      ret = root ? this.pick(root, obj) : obj\n      ret = ret[keys[0]].filter(function (v) { return v !== undefined })\n      this.set(this.cleanup[i], ret, obj)\n    }\n    this.cleanup = []\n  }\n}\n\n// alias method\nDotObject.prototype.del = DotObject.prototype.remove\n\n/**\n *\n * Move a property from one place to the other.\n *\n * If the source path does not exist (undefined)\n * the target property will not be set.\n *\n * @param {String} source\n * @param {String} target\n * @param {Object} obj\n * @param {Function|Array} mods\n * @param {Boolean} merge\n */\nDotObject.prototype.move = function (source, target, obj, mods, merge) {\n  if (typeof mods === 'function' || Array.isArray(mods)) {\n    this.set(target, _process(this.pick(source, obj, true), mods), obj, merge)\n  } else {\n    merge = mods\n    this.set(target, this.pick(source, obj, true), obj, merge)\n  }\n\n  return obj\n}\n\n/**\n *\n * Transfer a property from one object to another object.\n *\n * If the source path does not exist (undefined)\n * the property on the other object will not be set.\n *\n * @param {String} source\n * @param {String} target\n * @param {Object} obj1\n * @param {Object} obj2\n * @param {Function|Array} mods\n * @param {Boolean} merge\n */\nDotObject.prototype.transfer = function (source, target, obj1, obj2, mods, merge) {\n  if (typeof mods === 'function' || Array.isArray(mods)) {\n    this.set(target,\n      _process(\n        this.pick(source, obj1, true),\n        mods\n      ), obj2, merge)\n  } else {\n    merge = mods\n    this.set(target, this.pick(source, obj1, true), obj2, merge)\n  }\n\n  return obj2\n}\n\n/**\n *\n * Copy a property from one object to another object.\n *\n * If the source path does not exist (undefined)\n * the property on the other object will not be set.\n *\n * @param {String} source\n * @param {String} target\n * @param {Object} obj1\n * @param {Object} obj2\n * @param {Function|Array} mods\n * @param {Boolean} merge\n */\nDotObject.prototype.copy = function (source, target, obj1, obj2, mods, merge) {\n  if (typeof mods === 'function' || Array.isArray(mods)) {\n    this.set(target,\n      _process(\n        // clone what is picked\n        JSON.parse(\n          JSON.stringify(\n            this.pick(source, obj1, false)\n          )\n        ),\n        mods\n      ), obj2, merge)\n  } else {\n    merge = mods\n    this.set(target, this.pick(source, obj1, false), obj2, merge)\n  }\n\n  return obj2\n}\n\n/**\n *\n * Set a property on an object using dot notation.\n *\n * @param {String} path\n * @param {Mixed} val\n * @param {Object} obj\n * @param {Boolean} merge\n */\nDotObject.prototype.set = function (path, val, obj, merge) {\n  var i\n  var k\n  var keys\n  var key\n\n  // Do not operate if the value is undefined.\n  if (typeof val === 'undefined') {\n    return obj\n  }\n  keys = parsePath(path, this.separator)\n\n  for (i = 0; i < keys.length; i++) {\n    key = keys[i]\n    if (i === (keys.length - 1)) {\n      if (merge && isObject(val) && isObject(obj[key])) {\n        for (k in val) {\n          if (val.hasOwnProperty(k)) {\n            obj[key][k] = val[k]\n          }\n        }\n      } else if (merge && Array.isArray(obj[key]) && Array.isArray(val)) {\n        for (var j = 0; j < val.length; j++) {\n          obj[keys[i]].push(val[j])\n        }\n      } else {\n        obj[key] = val\n      }\n    } else if (\n      // force the value to be an object\n      !obj.hasOwnProperty(key) ||\n      (!isObject(obj[key]) && !Array.isArray(obj[key]))\n    ) {\n      // initialize as array if next key is numeric\n      if (/^\\d+$/.test(keys[i + 1])) {\n        obj[key] = []\n      } else {\n        obj[key] = {}\n      }\n    }\n    obj = obj[key]\n  }\n  return obj\n}\n\n/**\n *\n * Transform an object\n *\n * Usage:\n *\n *   var obj = {\n *     \"id\": 1,\n  *    \"some\": {\n  *      \"thing\": \"else\"\n  *    }\n *   }\n *\n *   var transform = {\n *     \"id\": \"nr\",\n  *    \"some.thing\": \"name\"\n *   }\n *\n *   var tgt = dot.transform(transform, obj)\n *\n * @param {Object} recipe Transform recipe\n * @param {Object} obj Object to be transformed\n * @param {Array} mods modifiers for the target\n */\nDotObject.prototype.transform = function (recipe, obj, tgt) {\n  obj = obj || {}\n  tgt = tgt || {}\n  Object.keys(recipe).forEach(function (key) {\n    this.set(recipe[key], this.pick(key, obj), tgt)\n  }.bind(this))\n  return tgt\n}\n\n/**\n *\n * Convert object to dotted-key/value pair\n *\n * Usage:\n *\n *   var tgt = dot.dot(obj)\n *\n *   or\n *\n *   var tgt = {}\n *   dot.dot(obj, tgt)\n *\n * @param {Object} obj source object\n * @param {Object} tgt target object\n * @param {Array} path path array (internal)\n */\nDotObject.prototype.dot = function (obj, tgt, path) {\n  tgt = tgt || {}\n  path = path || []\n  Object.keys(obj).forEach(function (key) {\n    if (\n      (\n        isArrayOrObject(obj[key]) &&\n        (\n          (isObject(obj[key]) && !isEmptyObject(obj[key])) ||\n          (Array.isArray(obj[key]) && (!this.keepArray && (obj[key].length !== 0)))\n        )\n      )\n    ) {\n      return this.dot(obj[key], tgt, path.concat(key))\n    } else {\n      tgt[path.concat(key).join(this.separator)] = obj[key]\n    }\n  }.bind(this))\n  return tgt\n}\n\nDotObject.pick = wrap('pick')\nDotObject.move = wrap('move')\nDotObject.transfer = wrap('transfer')\nDotObject.transform = wrap('transform')\nDotObject.copy = wrap('copy')\nDotObject.object = wrap('object')\nDotObject.str = wrap('str')\nDotObject.set = wrap('set')\nDotObject.del = DotObject.remove = wrap('remove')\nDotObject.dot = wrap('dot')\n\n;['override', 'overwrite'].forEach(function (prop) {\n  Object.defineProperty(DotObject, prop, {\n    get: function () {\n      return dotDefault.override\n    },\n    set: function (val) {\n      dotDefault.override = !!val\n    }\n  })\n})\n\n;['useArray', 'keepArray'].forEach(function (prop) {\n  Object.defineProperty(DotObject, prop, {\n    get: function () {\n      return dotDefault[prop]\n    },\n    set: function (val) {\n      dotDefault[prop] = val\n    }\n  })\n})\n\nDotObject._process = _process\n\nmodule.exports = DotObject\n","/* istanbul ignore file */\n\nimport { createContext } from 'react';\n\nimport { UnformContext } from './types';\n\nexport default createContext<UnformContext>({\n  initialData: {},\n  errors: {},\n  scopePath: '',\n  registerField: () => {},\n  unregisterField: () => {},\n});\n","import dot from 'dot-object';\nimport { useContext, useEffect } from 'react';\n\nimport FormContext from './Context';\n\nexport default function useField(name: string) {\n  const {\n    initialData,\n    errors,\n    scopePath,\n    unregisterField,\n    registerField,\n  } = useContext(FormContext);\n\n  const fieldName = scopePath ? `${scopePath}.${name}` : name;\n\n  useEffect(() => () => unregisterField(fieldName), [fieldName]);\n\n  const defaultValue = dot.pick(fieldName, initialData);\n  const error = errors[fieldName];\n\n  return {\n    fieldName,\n    registerField,\n    defaultValue,\n    error,\n  };\n}\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) if (e.indexOf(p[i]) < 0)\r\n            t[p[i]] = s[p[i]];\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator], i = 0;\r\n    if (m) return m.call(o);\r\n    return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n","import dot from 'dot-object';\nimport React, {\n  FormEvent,\n  useState,\n  DetailedHTMLProps,\n  FormHTMLAttributes,\n  useCallback,\n} from 'react';\nimport { ObjectSchema, ValidationError } from 'yup';\n\nimport FormContext from './Context';\nimport { UnformErrors, UnformField, Omit } from './types';\n\ntype HTMLFormProps = DetailedHTMLProps<\n  FormHTMLAttributes<HTMLFormElement>,\n  HTMLFormElement\n>;\n\ninterface Context {\n  [key: string]: any;\n}\n\ninterface Helpers {\n  resetForm: (data?: object) => void;\n}\n\ninterface FormContent {\n  [key: string]: any;\n}\n\nexport interface SubmitHandler<T = FormContent> {\n  (data: T, helpers: Helpers): void;\n}\n\nexport interface FormProps extends Omit<HTMLFormProps, 'onSubmit'> {\n  initialData?: object;\n  children: React.ReactNode;\n  context?: Context;\n  schema?: ObjectSchema<object>;\n  onSubmit: SubmitHandler;\n}\n\nexport default function Form({\n  initialData = {},\n  children,\n  schema,\n  context = {},\n  onSubmit,\n  ...rest\n}: FormProps) {\n  const [errors, setErrors] = useState<UnformErrors>({});\n  const [fields, setFields] = useState<UnformField[]>([]);\n\n  function parseFormData() {\n    const data = {};\n\n    fields.forEach(({\n name, ref, path, parseValue,\n}) => {\n      const value = dot.pick(path, ref);\n\n      data[name] = parseValue ? parseValue(ref) : value;\n    });\n\n    dot.object(data);\n\n    return data;\n  }\n\n  function resetForm(data = {}) {\n    fields.forEach(({\n name, ref, path, clearValue,\n}) => {\n      if (clearValue) {\n        return clearValue(ref, data[name]);\n      }\n\n      return dot.set(path, data[name] ? data[name] : '', ref as object);\n    });\n  }\n\n  async function handleSubmit(e: FormEvent) {\n    e.preventDefault();\n\n    let data = parseFormData();\n\n    try {\n      if (schema) {\n        await schema.validate(data, {\n          abortEarly: false,\n          stripUnknown: true,\n          context,\n        });\n\n        data = schema.cast(data, {\n          stripUnknown: true,\n          context,\n        });\n      }\n\n      setErrors({});\n      onSubmit(data, { resetForm });\n    } catch (err) {\n      const validationErrors: UnformErrors = {};\n\n      /* istanbul ignore next  */\n      if (!err.inner) {\n        throw err;\n      }\n\n      err.inner.forEach((error: ValidationError) => {\n        validationErrors[error.path] = error.message;\n      });\n\n      setErrors(validationErrors);\n    }\n  }\n\n  const registerField = useCallback((field: UnformField) => {\n    setFields(state => [...state, field]);\n  }, []);\n\n  const unregisterField = useCallback((name: string) => {\n    setFields(state => state.filter(field => field.name !== name));\n  }, []);\n\n  return (\n    <FormContext.Provider\n      value={{\n        initialData,\n        errors,\n        scopePath: '',\n        registerField,\n        unregisterField,\n      }}\n    >\n      <form {...rest} data-testid=\"form\" onSubmit={handleSubmit}>\n        {children}\n      </form>\n    </FormContext.Provider>\n  );\n}\n","import React, { useContext, ReactNode } from 'react';\n\nimport FormContext from './Context';\n\nexport interface ScopeProps {\n  path: string;\n  children: ReactNode;\n}\n\nexport default function Scope({ path, children }: ScopeProps) {\n  const { scopePath, ...form } = useContext(FormContext);\n\n  return (\n    <FormContext.Provider\n      value={{\n        ...form,\n        scopePath: scopePath.concat(scopePath ? `.${path}` : path),\n      }}\n    >\n      {children}\n    </FormContext.Provider>\n  );\n}\n","import React, { useEffect, useRef } from 'react';\n\nimport useField from '../useField';\n\ninterface Props<T> {\n  name: string;\n  label?: string;\n  multiline?: T;\n}\n\ntype InputProps = JSX.IntrinsicElements['input'] & Props<false>;\ntype TextAreaProps = JSX.IntrinsicElements['textarea'] & Props<true>;\n\nexport default function Input({\n  name,\n  label,\n  multiline = false,\n  ...rest\n}: InputProps | TextAreaProps) {\n  const ref = useRef<HTMLInputElement | HTMLTextAreaElement>(null);\n  const { fieldName, registerField, defaultValue, error } = useField(name);\n\n  useEffect(() => {\n    if (ref.current) {\n      registerField({ name: fieldName, ref: ref.current, path: 'value' });\n    }\n  }, [ref.current, fieldName]);\n\n  const props = {\n    ...rest,\n    ref,\n    id: fieldName,\n    name: fieldName,\n    'aria-label': fieldName,\n    defaultValue,\n  };\n\n  return (\n    <>\n      {label && <label htmlFor={fieldName}>{label}</label>}\n\n      {multiline ? (\n        <textarea {...props as TextAreaProps} />\n      ) : (\n        <input {...props as InputProps} />\n      )}\n\n      {error && <span>{error}</span>}\n    </>\n  );\n}\n","import React, { useEffect } from 'react';\n\nimport Input from './Input';\n\ninterface Props {\n  name: string;\n  label?: string;\n  multiline?: true;\n}\n\ntype TextAreaProps = JSX.IntrinsicElements['textarea'] & Props;\n\nexport default function Textarea(props: TextAreaProps) {\n  useEffect(() => {\n    console.warn(\n      'Textarea will be deprecated in the next major unform release. Please use <Input multiline /> instead'\n    );\n  }, []);\n\n  return <Input {...props} multiline />;\n}\n","import React, { SelectHTMLAttributes, useEffect, useRef } from 'react';\n\nimport useField from '../useField';\n\ninterface Option {\n  id: string;\n  title: string;\n}\n\nexport interface SelectProps extends SelectHTMLAttributes<HTMLSelectElement> {\n  name: string;\n  label?: string;\n  placeholder?: string;\n  options: Option[];\n}\n\nconst defaultProps: Partial<SelectProps> = {\n  placeholder: '',\n  defaultValue: '',\n};\n\nfunction Select({\n  name,\n  label,\n  placeholder,\n  defaultValue,\n  options,\n  ...rest\n}: SelectProps) {\n  const ref = useRef<HTMLSelectElement>(null);\n  const {\n    fieldName,\n    registerField,\n    defaultValue: initialData,\n    error,\n  } = useField(name);\n\n  useEffect(() => {\n    if (ref.current) {\n      registerField({ name: fieldName, ref: ref.current, path: 'value' });\n    }\n  }, [ref.current, fieldName]);\n\n  return (\n    <>\n      {label && <label htmlFor={fieldName}>{label}</label>}\n\n      <select\n        {...rest}\n        multiple={false}\n        id={fieldName}\n        name={fieldName}\n        defaultValue={initialData || defaultValue}\n        aria-label={fieldName}\n        ref={ref}\n      >\n        <option value={defaultValue} disabled hidden>\n          {placeholder}\n        </option>\n        {options.map(({ id, title }: Option) => (\n          <option key={id} value={id}>\n            {title}\n          </option>\n        ))}\n      </select>\n\n      {error && <span>{error}</span>}\n    </>\n  );\n}\n\nSelect.defaultProps = defaultProps;\n\nexport default Select;\n","import React, { useEffect, useRef, useState, ChangeEvent } from 'react';\n\nimport useField from '../useField';\n\ninterface Props {\n  name: string;\n  label?: string;\n  onStartProgress?: (progress: number, event: ProgressEvent) => void;\n}\n\ntype InputProps = JSX.IntrinsicElements['input'] & Props;\n\nexport default function Input({\n  name,\n  label,\n  onStartProgress,\n  ...rest\n}: InputProps) {\n  const ref = useRef<HTMLInputElement>(null);\n  const { fieldName, registerField, defaultValue, error } = useField(name);\n  const [file, setFile] = useState(defaultValue);\n\n  useEffect(() => {\n    if (ref.current) {\n      registerField({\n        name: fieldName,\n        ref: ref.current,\n        path: 'dataset.file',\n        clearValue: (fileRef: HTMLInputElement) => {\n          fileRef.value = '';\n          setFile('');\n        },\n      });\n    }\n  }, [ref.current, fieldName]);\n\n  const props = {\n    ...rest,\n    ref,\n    id: fieldName,\n    name: fieldName,\n    'aria-label': fieldName,\n  };\n\n  function handleChange(event: ChangeEvent<HTMLInputElement>) {\n    const fileReader = new FileReader();\n\n    fileReader.onload = (evt: ProgressEvent) => {\n      const { result } = evt.target as any;\n      setFile(result);\n    };\n\n    fileReader.onprogress = (evt: ProgressEvent) => {\n      /* istanbul ignore next  */\n      const { loaded = 0, total = 0 } = evt;\n      const progress = (loaded / total) * 100;\n\n      if (onStartProgress) {\n        onStartProgress(progress, evt);\n      }\n    };\n\n    const { files } = event.target;\n    if (files) {\n      fileReader.readAsDataURL(files[0]);\n    }\n  }\n\n  return (\n    <>\n      {label && <label htmlFor={fieldName}>{label}</label>}\n\n      <input {...props} type=\"file\" onChange={handleChange} data-file={file} />\n\n      {error && <span>{error}</span>}\n    </>\n  );\n}\n","import React, { useEffect, useRef } from 'react';\n\nimport useField from '../useField';\n\ninterface Props {\n  name: string;\n  label?: string;\n}\n\ntype InputProps = JSX.IntrinsicElements['input'] & Props;\n\nexport default function Input({ name, label, ...rest }: InputProps) {\n  const ref = useRef<HTMLInputElement>(null);\n  const { fieldName, registerField, defaultValue, error } = useField(name);\n\n  const parseValue = (inputRef: HTMLInputElement) => inputRef.checked;\n\n  useEffect(() => {\n    if (ref.current) {\n      registerField({\n        name: fieldName,\n        ref: ref.current,\n        path: '',\n        parseValue,\n        clearValue: (inputRef: HTMLInputElement) => {\n          inputRef.checked = false;\n        },\n      });\n    }\n  }, [ref.current, fieldName]);\n\n  const props = {\n    ...rest,\n    ref,\n    id: fieldName,\n    name: fieldName,\n    type: 'checkbox',\n    'aria-label': fieldName,\n    defaultChecked: defaultValue,\n  };\n\n  return (\n    <>\n      <input {...props as InputProps} />\n\n      {label && <label htmlFor={fieldName}>{label}</label>}\n\n      {error && <span>{error}</span>}\n    </>\n  );\n}\n","import React, { Fragment, useEffect, useRef } from 'react';\n\nimport useField from '../useField';\n\ninterface OptionProps {\n  value: string;\n  label?: string;\n}\n\ninterface Props {\n  name: string;\n  options: OptionProps[];\n  multiple?: boolean;\n}\n\ntype ChoiceProps = JSX.IntrinsicElements['input'] & Props;\n\nexport default function Choice({\n  name,\n  options,\n  multiple,\n  ...rest\n}: ChoiceProps) {\n  const { fieldName, registerField, defaultValue, error } = useField(name);\n  const ref = useRef<HTMLInputElement[] | null[]>([]);\n\n  const nativeField = multiple ? 'checkbox' : 'radio';\n\n  const checked = (value: string): boolean => {\n    if (!defaultValue) return false;\n    if (typeof defaultValue === 'string') return [defaultValue].includes(value);\n    return Array.from(defaultValue).includes(value);\n  };\n\n  const parseValue = (choiceRef: HTMLInputElement[]) => {\n    const values = choiceRef.filter(i => i.checked).map(i => i.value);\n    return multiple ? values : values[0];\n  };\n\n  useEffect(() => {\n    ref.current = ref.current.slice(0, options.length);\n    registerField({\n      name: fieldName,\n      path: '',\n      ref: ref.current,\n      parseValue,\n      clearValue: (choiceRef: HTMLInputElement[]) => {\n        choiceRef.forEach(i => {\n          i.checked = false;\n        });\n      },\n    });\n  }, [fieldName]);\n\n  return (\n    <Fragment>\n      {options.map(({ value, label }, idx) => {\n        const checkboxId = `${fieldName}-${value}`;\n        return (\n          <Fragment key={checkboxId}>\n            <input\n              {...rest}\n              ref={el => {\n                ref.current[idx] = el;\n              }}\n              type={nativeField}\n              id={checkboxId}\n              name={fieldName}\n              aria-label={checkboxId}\n              value={value}\n              defaultChecked={checked(value)}\n            />\n            {label && <label htmlFor={checkboxId}>{label}</label>}\n          </Fragment>\n        );\n      })}\n      {error && <span>{error}</span>}\n    </Fragment>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}